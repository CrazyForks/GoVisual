{{define "env-info"}}
<div class="card collapsible">
  <div class="card-header" onclick="toggleCollapse(this)">
    <h2>Environment Info</h2>
    <span class="collapse-icon">â–¼</span>
  </div>
  <div class="card-content">
    <div class="env-grid">
      <div class="env-section">
        <h3>Go Environment</h3>
        <div class="env-item">
          <span class="env-label">Go Version:</span>
          <span class="env-value">{{.GoVersion}}</span>
        </div>
        <div class="env-item">
          <span class="env-label">GOOS:</span>
          <span class="env-value">{{.GOOS}}</span>
        </div>
        <div class="env-item">
          <span class="env-label">GOARCH:</span>
          <span class="env-value">{{.GOARCH}}</span>
        </div>
      </div>

      <div class="env-section">
        <h3>System</h3>
        <div class="env-item">
          <span class="env-label">Hostname:</span>
          <span class="env-value">{{.Hostname}}</span>
        </div>
        <div class="env-item">
          <span class="env-label">OS:</span>
          <span class="env-value">{{.OS}}</span>
        </div>
        <div class="env-item">
          <span class="env-label">CPU Cores:</span>
          <span class="env-value">{{.CPUs}}</span>
        </div>
      </div>

      <div class="env-section">
        <h3>Memory Usage</h3>
        <div id="memory-usage">
          <div class="memory-bar">
            <div id="memory-used" style="width: 0%"></div>
          </div>
          <div class="memory-stats">
            <span id="memory-used-value">0 MB</span> /
            <span id="memory-total">0 MB</span>
          </div>
        </div>
      </div>
    </div>

    <div class="env-section">
      <h3>Environment Variables</h3>
      <div class="env-vars-table">
        <table>
          <thead>
            <tr>
              <th>Name</th>
              <th>Value</th>
            </tr>
          </thead>
          <tbody id="env-vars-body">
            {{range $key, $value := .EnvVars}}
            <tr>
              <td>{{$key}}</td>
              <td>{{$value}}</td>
            </tr>
            {{end}}
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>
{{end}}
